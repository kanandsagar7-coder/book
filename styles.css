body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#f0f4f8;color:#333}#main-menu-screen,#loading-screen,#storybook-screen,#gallery-screen{text-align:center;padding:2rem;background:white;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.1);width:90%;max-width:800px}h1{font-size:2.5rem;color:#4a4a4a;margin-bottom:.5rem}p{font-size:1.2rem;color:#6a6a6a;line-height:1.6}#topic-input{width:calc(100% - 24px);padding:12px;font-size:1rem;border:1px solid #ddd;border-radius:8px;margin-top:1.5rem}button{background-color:#007aff;color:white;border:none;padding:12px 24px;font-size:1rem;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .2s;margin-top:1rem}button:disabled{background-color:#ccc;cursor:not-allowed}button:hover:not(:disabled){background-color:#0056b3;transform:translateY(-2px)}.spinner{border:6px solid #f3f3f3;border-top:6px solid #007aff;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin:2rem auto}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}#storybook{width:100%;height:600px;position:relative;overflow:hidden;border:1px solid #ddd;border-radius:8px;margin-bottom:1rem}.page{position:absolute;width:100%;height:100%;top:0;left:0;transition:transform .5s ease-in-out}.page-content{display:flex;flex-direction:column;height:100%}.page-content img{width:100%;height:70%;object-fit:cover;border-top-left-radius:8px;border-top-right-radius:8px}.story-text{padding:1rem;font-size:1.2rem;line-height:1.8;text-align:left;height:30%;overflow-y:auto;background-color:#fafafa;border-bottom-left-radius:8px;border-bottom-right-radius:8px}.navigation-buttons{display:flex;justify-content:space-between;margin-bottom:1rem}#back-to-main-menu-btn{background-color:#6c757d}#back-to-main-menu-btn:hover{background-color:#5a6268}.action-buttons{display:flex;justify-content:center;gap:1rem;margin-top:1rem}#gallery-screen{width:90%;max-width:1200px;text-align:center}#gallery-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem;margin-top:2rem;max-height:70vh;overflow-y:auto;padding:1rem;background:#f0f4f8;border-radius:8px}.gallery-item{background:white;border-radius:8px;box-shadow:0 4px 15px rgba(0,0,0,.08);cursor:pointer;transition:transform .2s,box-shadow .2s;overflow:hidden}.gallery-item:hover{transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,.12)}.gallery-item img{width:100%;height:150px;object-fit:cover}.gallery-item p{font-size:1rem;padding:.8rem;margin:0;font-weight:500;color:#4a4a4a}.screen{transition:opacity .5s ease-in-out,transform .5s ease-in-out}.screen.hidden{opacity:0;pointer-events:none;transform:scale(.95)}#music-toggle-btn{position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;font-size:1.5rem;background-color:rgba(255,255,255,.8);color:#333;border:1px solid #ddd;box-shadow:0 4px 15px rgba(0,0,0,.1);display:flex;justify-content:center;align-items:center;padding:0;margin:0;backdrop-filter:blur(5px)}#music-toggle-btn.playing{animation:pulse 2s infinite}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}
